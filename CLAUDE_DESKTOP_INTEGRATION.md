# Интеграция MCP сервера с Claude Desktop

Данный документ описывает процесс интеграции MCP сервера Sequential Thinking с Claude Desktop.

## Подготовка

1. Убедитесь, что у вас установлен Python 3.10+ и пакет `uv`
2. Установите `uv` если он еще не установлен:
   ```bash
   pip install uv
   ```

## Настройка Claude Desktop

Для интеграции MCP сервера с Claude Desktop выполните следующие шаги:

### 1. Найдите файл конфигурации Claude Desktop

Файл `claude_desktop_config.json` обычно находится в следующих местах:

- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Linux**: `~/.config/Claude/claude_desktop_config.json`

### 2. Добавьте конфигурацию MCP сервера

Добавьте следующую конфигурацию в файл `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "sequential-thinking": {
      "command": "uvx",
      "args": [
        "--from",
        "git+https://github.com/arben-adm/mcp-sequential-thinking",
        "--with",
        "portalocker",
        "mcp-sequential-thinking"
      ]
    }
  }
}
```

### 3. Альтернативный способ (с предварительной установкой)

Если вы хотите установить пакет локально, выполните:

```bash
uv pip install git+https://github.com/arben-adm/mcp-sequential-thinking
```

И используйте следующую конфигурацию:

```json
{
  "mcpServers": {
    "sequential-thinking": {
      "command": "mcp-sequential-thinking"
    }
  }
}
```

## Перезапуск Claude Desktop

После внесения изменений в конфигурационный файл:

1. Полностью закройте Claude Desktop
2. Перезапустите приложение
3. MCP сервер должен автоматически подключиться

## Проверка подключения

После перезапуска Claude Desktop вы можете проверить подключение:

1. Откройте Claude Desktop
2. Начните новый чат
3. Введите запрос, который будет использовать инструменты MCP сервера, например:
   ```
   Используй инструмент process_thought для анализа следующей проблемы...
   ```

## Возможные проблемы и решения

### 1. Сервер не запускается

- Убедитесь, что `uv` установлен и доступен в PATH
- Проверьте права доступа к файлам
- Убедитесь, что Python 3.10+ установлен

### 2. Ошибка при выполнении инструмента

- Проверьте формат JSON в конфигурационном файле
- Убедитесь, что все зависимости установлены
- Попробуйте запустить сервер вручную для тестирования

### 3. Claude Desktop не видит MCP сервер

- Проверьте правильность пути к конфигурационному файлу
- Убедитесь, что структура JSON корректна
- Перезапустите Claude Desktop полностью

## Использование инструментов

После успешной интеграции вы можете использовать следующие инструменты в Claude Desktop:

1. **process_thought** - для обработки и анализа мыслей
2. **generate_summary** - для генерации сводки процесса мышления
3. **clear_history** - для очистки истории мышления
4. **export_session** - для экспорта сессии
5. **import_session** - для импорта сессии

## Безопасность

- Храните конфигурационный файл в безопасном месте
- Не делитесь конфигурацией с ненадежными источниками
- Регулярно обновляйте зависимости для обеспечения безопасности